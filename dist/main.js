(()=>{"use strict";const e=function(e,t){let r=0,n=!1;return{hit:function(){return r+=1,r},getHits:function(){return r},isSunk:function(){return r==e&&(n=!0),n},length:e,shipName:t}},t=function(){let t=function(){let e=[],t=[],r=[],n=[],o=[];function i(e,t){return 10*e+t}return{createBoard:function(){for(let t=0;t<10;t++)for(let r=0;r<10;r++){let n={coordinates:void 0,name:void 0};n.coordinates=[t,r],n.name=null,e.push(n)}return e},getBoard:function(){return e},placeShip:function(t,r,a,s){if("Horizontal"==s){if(t+a.length>9)return!1;let o=i(t,r);for(let t=0;t<a.length;t++)e[o+t].name=a.shipName,n.push(o+t)}if("Vertical"==s){if(r+a.length>9)return!1;let o=i(t,r);for(let t=0;t<a.length;t++)e[o+10*t].name=a.shipName,n.push(o+10*t)}o.push(a)},receiveAttack:function(n,a){let s=i(n,a);return null!=e[s].name?(r.push(s),function(e){for(let t=0;t<o.length;t++)if(o[t].shipName==e)return o[t]}(e[s].name).hit()):t.push(s),s},isAllSunk:function(){if(n.length==r.length)return!0},getMissedPositions:function(){return t},getAttackedPositions:function(){return r},getShipsPositions:function(){return n}}}(),r=[e(5,"Carrier"),e(4,"Battleship"),e(3,"Cruiser"),e(3,"Submarine"),e(2,"Destroyer")],n=[];return{randomAttack:function(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]},getBoard:function(){return t},getShips:function(){return r},getShotCoordinates:function(){return n},createBoard:t.createBoard,getBoard:t.getBoard,placeShip:t.placeShip,receiveAttack:t.receiveAttack,isAllSunk:t.isAllSunk,getMissedPositions:t.getMissedPositions,getAttackedPositions:t.getAttackedPositions,getShipsPositions:t.getShipsPositions}},r=function(){let e=t(),r=t();e.createBoard(),r.createBoard();let n=e.getBoard(),o=r.getBoard(),i=e.getShips(),a=r.getShips();return{gamer:e,computer:r,getGamerBoard:function(){return n},getComputerBoard:function(){return o},getGamerShips:function(){return i},getComputerShips:function(){return a}}}();(function(){document.querySelector(".carrier-name"),document.querySelector(".battleship-name"),document.querySelector(".cruiser-name"),document.querySelector(".submarine-name"),document.querySelector(".destroyer-name");const e=document.querySelector(".player-board"),t=document.querySelector(".computer-board"),n=document.querySelector(".direction");let o=r.getGamerBoard(),i=r.getComputerBoard();return r.getGamerShips(),r.getComputerShips(),e.addEventListener("click",(e=>{if(e.target.classList.contains("player-board")){let t=e.target.classList[1].split(",");parseInt(t[0]),parseInt(t[1])}})),n.addEventListener("click",(()=>{"Horizontal"==n.value?(n.value="Vertical",n.textContent="Set Horizontal"):(n.value="Horizontal",n.textContent="Set Vertical")})),{hideDisplay:function(e){e.classList.remove("show"),e.classList.add("hide")},showDisplay:function(e){e.classList.remove("hide"),e.classList.add("show")},createGameBoards:function(){for(let t=0;t<o.length;t++){let r=document.createElement("div");r.classList.add(t),r.classList.add(o[t].coordinates),r.classList.add("grid"),r.classList.add("player-board"),e.appendChild(r)}for(let e=0;e<i.length;e++){let r=document.createElement("div");r.classList.add(e),r.classList.add(i[e].coordinates),r.classList.add("grid"),r.classList.add("computer-board"),t.appendChild(r)}}}})().createGameBoards()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Oi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNoaXAgPSBmdW5jdGlvbiAobGVuZ3RoLCBuYW1lKSB7XG4gIGxldCBoaXRzID0gMDtcbiAgbGV0IHN1bmsgPSBmYWxzZTtcbiAgbGV0IHNoaXBOYW1lID0gbmFtZTtcblxuICBmdW5jdGlvbiBoaXQoKSB7XG4gICAgaGl0cyArPSAxO1xuICAgIHJldHVybiBoaXRzO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNTdW5rKCkge1xuICAgIGlmIChoaXRzID09IGxlbmd0aCkge1xuICAgICAgc3VuayA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBzdW5rO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SGl0cygpIHtcbiAgICByZXR1cm4gaGl0cztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaGl0LFxuICAgIGdldEhpdHMsXG4gICAgaXNTdW5rLFxuICAgIGxlbmd0aCxcbiAgICBzaGlwTmFtZSxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNoaXA7XG4iLCJpbXBvcnQgc2hpcCBmcm9tIFwiLi9zaGlwXCI7XG5pbXBvcnQgZ2FtZUJvYXJkIGZyb20gXCIuL2dhbWVib2FyZFwiO1xuXG5jb25zdCBwbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBib2FyZCA9IGdhbWVCb2FyZCgpO1xuICBsZXQgY2FycmllciA9IHNoaXAoNSwgXCJDYXJyaWVyXCIpO1xuICBsZXQgYmF0dGxlc2hpcCA9IHNoaXAoNCwgXCJCYXR0bGVzaGlwXCIpO1xuICBsZXQgY3J1aXNlciA9IHNoaXAoMywgXCJDcnVpc2VyXCIpO1xuICBsZXQgc3VibWFyaW5lID0gc2hpcCgzLCBcIlN1Ym1hcmluZVwiKTtcbiAgbGV0IGRlc3Ryb3llciA9IHNoaXAoMiwgXCJEZXN0cm95ZXJcIik7XG4gIGxldCBzaGlwcyA9IFtjYXJyaWVyLCBiYXR0bGVzaGlwLCBjcnVpc2VyLCBzdWJtYXJpbmUsIGRlc3Ryb3llcl07XG4gIGxldCBzaG90Q29vcmRpbmF0ZXMgPSBbXTtcblxuICBmdW5jdGlvbiByYW5kb21BdHRhY2soKSB7XG4gICAgbGV0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgbGV0IHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG5cbiAgICByZXR1cm4gW3gsIHldO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Qm9hcmQoKSB7XG4gICAgcmV0dXJuIGJvYXJkO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2hpcHMoKSB7XG4gICAgcmV0dXJuIHNoaXBzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2hvdENvb3JkaW5hdGVzKCkge1xuICAgIHJldHVybiBzaG90Q29vcmRpbmF0ZXM7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJhbmRvbUF0dGFjayxcbiAgICBnZXRCb2FyZCxcbiAgICBnZXRTaGlwcyxcbiAgICBnZXRTaG90Q29vcmRpbmF0ZXMsXG4gICAgY3JlYXRlQm9hcmQ6IGJvYXJkLmNyZWF0ZUJvYXJkLFxuICAgIGdldEJvYXJkOiBib2FyZC5nZXRCb2FyZCxcbiAgICBwbGFjZVNoaXA6IGJvYXJkLnBsYWNlU2hpcCxcbiAgICByZWNlaXZlQXR0YWNrOiBib2FyZC5yZWNlaXZlQXR0YWNrLFxuICAgIGlzQWxsU3VuazogYm9hcmQuaXNBbGxTdW5rLFxuICAgIGdldE1pc3NlZFBvc2l0aW9uczogYm9hcmQuZ2V0TWlzc2VkUG9zaXRpb25zLFxuICAgIGdldEF0dGFja2VkUG9zaXRpb25zOiBib2FyZC5nZXRBdHRhY2tlZFBvc2l0aW9ucyxcbiAgICBnZXRTaGlwc1Bvc2l0aW9uczogYm9hcmQuZ2V0U2hpcHNQb3NpdGlvbnMsXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwbGF5ZXI7XG4iLCJpbXBvcnQgc2hpcCBmcm9tIFwiLi9zaGlwXCI7XG5jb25zdCBnYW1lQm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBib2FyZCA9IFtdO1xuICBsZXQgbWlzc2VkQXR0YWNrID0gW107XG4gIGxldCBhdHRhY2tlZFBvc2l0aW9uID0gW107XG4gIGxldCBzaGlwUG9zaXRpb24gPSBbXTtcbiAgbGV0IHNoaXBzID0gW107XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29vcmRpbmF0ZShjb29yZGluYXRlcywgbmFtZSkge1xuICAgIHJldHVybiB7IGNvb3JkaW5hdGVzLCBuYW1lIH07XG4gIH1cblxuICBmdW5jdGlvbiBpbmRleEZpbmRlcihwb3MxLCBwb3MyKSB7XG4gICAgbGV0IGluZGV4ID0gcG9zMSAqIDEwICsgcG9zMjtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVCb2FyZCgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgICBsZXQgbmV3Q29vcmRpbmF0ZXMgPSBjcmVhdGVDb29yZGluYXRlKCk7XG4gICAgICAgIG5ld0Nvb3JkaW5hdGVzLmNvb3JkaW5hdGVzID0gW2ksIGpdO1xuICAgICAgICBuZXdDb29yZGluYXRlcy5uYW1lID0gbnVsbDtcbiAgICAgICAgYm9hcmQucHVzaChuZXdDb29yZGluYXRlcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBib2FyZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYWNlU2hpcChwb3MxLCBwb3MyLCBzaGlwLCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09IFwiSG9yaXpvbnRhbFwiKSB7XG4gICAgICBpZiAocG9zMSArIHNoaXAubGVuZ3RoID4gOSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGxldCBpbmRleCA9IGluZGV4RmluZGVyKHBvczEsIHBvczIpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYm9hcmRbaW5kZXggKyBpXS5uYW1lID0gc2hpcC5zaGlwTmFtZTtcbiAgICAgICAgc2hpcFBvc2l0aW9uLnB1c2goaW5kZXggKyBpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGlyZWN0aW9uID09IFwiVmVydGljYWxcIikge1xuICAgICAgaWYgKHBvczIgKyBzaGlwLmxlbmd0aCA+IDkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBsZXQgaW5kZXggPSBpbmRleEZpbmRlcihwb3MxLCBwb3MyKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJvYXJkW2luZGV4ICsgaSAqIDEwXS5uYW1lID0gc2hpcC5zaGlwTmFtZTtcbiAgICAgICAgc2hpcFBvc2l0aW9uLnB1c2goaW5kZXggKyBpICogMTApO1xuICAgICAgfVxuICAgIH1cbiAgICBzaGlwcy5wdXNoKHNoaXApO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjZWl2ZUF0dGFjayhwb3MxLCBwb3MyKSB7XG4gICAgbGV0IGluZGV4ID0gaW5kZXhGaW5kZXIocG9zMSwgcG9zMik7XG5cbiAgICBpZiAoYm9hcmRbaW5kZXhdLm5hbWUgIT0gbnVsbCkge1xuICAgICAgYXR0YWNrZWRQb3NpdGlvbi5wdXNoKGluZGV4KTtcbiAgICAgIGZpbmRTaGlwKGJvYXJkW2luZGV4XS5uYW1lKS5oaXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWlzc2VkQXR0YWNrLnB1c2goaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kU2hpcChuYW1lKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNoaXBzW2ldLnNoaXBOYW1lID09IG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHNoaXBzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQWxsU3VuaygpIHtcbiAgICBpZiAoc2hpcFBvc2l0aW9uLmxlbmd0aCA9PSBhdHRhY2tlZFBvc2l0aW9uLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Qm9hcmQoKSB7XG4gICAgcmV0dXJuIGJvYXJkO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWlzc2VkUG9zaXRpb25zKCkge1xuICAgIHJldHVybiBtaXNzZWRBdHRhY2s7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTaGlwc1Bvc2l0aW9ucygpIHtcbiAgICByZXR1cm4gc2hpcFBvc2l0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QXR0YWNrZWRQb3NpdGlvbnMoKSB7XG4gICAgcmV0dXJuIGF0dGFja2VkUG9zaXRpb247XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGVCb2FyZCxcbiAgICBnZXRCb2FyZCxcbiAgICBwbGFjZVNoaXAsXG4gICAgcmVjZWl2ZUF0dGFjayxcbiAgICBpc0FsbFN1bmssXG4gICAgZ2V0TWlzc2VkUG9zaXRpb25zLFxuICAgIGdldEF0dGFja2VkUG9zaXRpb25zLFxuICAgIGdldFNoaXBzUG9zaXRpb25zLFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2FtZUJvYXJkO1xuIiwiaW1wb3J0IHNoaXAgZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IGdhbWVCb2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcbmltcG9ydCBwbGF5ZXIgZnJvbSBcIi4vcGxheWVyXCI7XG5cbmNvbnN0IGdhbWUgPSAoZnVuY3Rpb24gKCkge1xuICBsZXQgZ2FtZXIgPSBwbGF5ZXIoKTtcbiAgbGV0IGNvbXB1dGVyID0gcGxheWVyKCk7XG5cbiAgZ2FtZXIuY3JlYXRlQm9hcmQoKTtcbiAgY29tcHV0ZXIuY3JlYXRlQm9hcmQoKTtcblxuICBsZXQgZ2FtZXJCb2FyZCA9IGdhbWVyLmdldEJvYXJkKCk7XG4gIGxldCBjb21wdXRlckJvYXJkID0gY29tcHV0ZXIuZ2V0Qm9hcmQoKTtcbiAgbGV0IGdhbWVyU2hpcHMgPSBnYW1lci5nZXRTaGlwcygpO1xuICBsZXQgY29tcHV0ZXJTaGlwcyA9IGNvbXB1dGVyLmdldFNoaXBzKCk7XG5cbiAgZnVuY3Rpb24gZ2V0R2FtZXJCb2FyZCgpIHtcbiAgICByZXR1cm4gZ2FtZXJCb2FyZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENvbXB1dGVyQm9hcmQoKSB7XG4gICAgcmV0dXJuIGNvbXB1dGVyQm9hcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRHYW1lclNoaXBzKCkge1xuICAgIHJldHVybiBnYW1lclNoaXBzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q29tcHV0ZXJTaGlwcygpIHtcbiAgICByZXR1cm4gY29tcHV0ZXJTaGlwcztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2FtZXIsXG4gICAgY29tcHV0ZXIsXG4gICAgZ2V0R2FtZXJCb2FyZCxcbiAgICBnZXRDb21wdXRlckJvYXJkLFxuICAgIGdldEdhbWVyU2hpcHMsXG4gICAgZ2V0Q29tcHV0ZXJTaGlwcyxcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGdhbWU7XG4iLCJpbXBvcnQgc2hpcCBmcm9tIFwiLi9zaGlwXCI7XG5pbXBvcnQgZ2FtZUJvYXJkIGZyb20gXCIuL2dhbWVib2FyZFwiO1xuaW1wb3J0IHBsYXllciBmcm9tIFwiLi9wbGF5ZXJcIjtcbmltcG9ydCBnYW1lIGZyb20gXCIuL2dhbWVcIjtcblxuY29uc3QgZG9tID0gKGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgY2FycmllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2Fycmllci1uYW1lXCIpO1xuICBjb25zdCBiYXR0bGVzaGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iYXR0bGVzaGlwLW5hbWVcIik7XG4gIGNvbnN0IGNydWlzZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNydWlzZXItbmFtZVwiKTtcbiAgY29uc3Qgc3VibWFyaW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtYXJpbmUtbmFtZVwiKTtcbiAgY29uc3QgZGVzdHJveWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZXN0cm95ZXItbmFtZVwiKTtcbiAgY29uc3QgcGxheWVyQm9hcmREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllci1ib2FyZFwiKTtcbiAgY29uc3QgY29tcHV0ZXJCb2FyZERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcHV0ZXItYm9hcmRcIik7XG4gIGNvbnN0IGRpcmVjdGlvbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGlyZWN0aW9uXCIpO1xuXG4gIGxldCBnYW1lckJvYXJkID0gZ2FtZS5nZXRHYW1lckJvYXJkKCk7XG4gIGxldCBjb21wdXRlckJvYXJkID0gZ2FtZS5nZXRDb21wdXRlckJvYXJkKCk7XG4gIGxldCBnYW1lclNoaXBzID0gZ2FtZS5nZXRHYW1lclNoaXBzKCk7XG4gIGxldCBjb21wdXRlclNoaXBzID0gZ2FtZS5nZXRDb21wdXRlclNoaXBzKCk7XG5cbiAgZnVuY3Rpb24gaGlkZURpc3BsYXkoZWxlbWVudCkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dEaXNwbGF5KGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVHYW1lQm9hcmRzKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZXJCb2FyZC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZ3JpZC5jbGFzc0xpc3QuYWRkKGkpO1xuICAgICAgZ3JpZC5jbGFzc0xpc3QuYWRkKGdhbWVyQm9hcmRbaV0uY29vcmRpbmF0ZXMpO1xuICAgICAgZ3JpZC5jbGFzc0xpc3QuYWRkKFwiZ3JpZFwiKTtcbiAgICAgIGdyaWQuY2xhc3NMaXN0LmFkZChcInBsYXllci1ib2FyZFwiKTtcbiAgICAgIHBsYXllckJvYXJkRGl2LmFwcGVuZENoaWxkKGdyaWQpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXB1dGVyQm9hcmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBncmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGdyaWQuY2xhc3NMaXN0LmFkZChpKTtcbiAgICAgIGdyaWQuY2xhc3NMaXN0LmFkZChjb21wdXRlckJvYXJkW2ldLmNvb3JkaW5hdGVzKTtcbiAgICAgIGdyaWQuY2xhc3NMaXN0LmFkZChcImdyaWRcIik7XG4gICAgICBncmlkLmNsYXNzTGlzdC5hZGQoXCJjb21wdXRlci1ib2FyZFwiKTtcbiAgICAgIGNvbXB1dGVyQm9hcmREaXYuYXBwZW5kQ2hpbGQoZ3JpZCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXNzaWduU2hpcHMocG9zMSwgcG9zMikge31cblxuICBwbGF5ZXJCb2FyZERpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGdyaWQpID0+IHtcbiAgICBpZiAoZ3JpZC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicGxheWVyLWJvYXJkXCIpKSB7XG4gICAgICBsZXQgY29vcmRpbmF0ZXMgPSBncmlkLnRhcmdldC5jbGFzc0xpc3RbMV0uc3BsaXQoXCIsXCIpO1xuICAgICAgbGV0IHBvczEgPSBwYXJzZUludChjb29yZGluYXRlc1swXSk7XG4gICAgICBsZXQgcG9zMiA9IHBhcnNlSW50KGNvb3JkaW5hdGVzWzFdKTtcbiAgICAgIGFzc2lnblNoaXBzKHBvczEsIHBvczIpO1xuICAgIH1cbiAgfSk7XG5cbiAgZGlyZWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaWYgKGRpcmVjdGlvbkJ1dHRvbi52YWx1ZSA9PSBcIkhvcml6b250YWxcIikge1xuICAgICAgZGlyZWN0aW9uQnV0dG9uLnZhbHVlID0gXCJWZXJ0aWNhbFwiO1xuICAgICAgZGlyZWN0aW9uQnV0dG9uLnRleHRDb250ZW50ID0gXCJTZXQgSG9yaXpvbnRhbFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXJlY3Rpb25CdXR0b24udmFsdWUgPSBcIkhvcml6b250YWxcIjtcbiAgICAgIGRpcmVjdGlvbkJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2V0IFZlcnRpY2FsXCI7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGhpZGVEaXNwbGF5LFxuICAgIHNob3dEaXNwbGF5LFxuICAgIGNyZWF0ZUdhbWVCb2FyZHMsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBkb207XG4iLCJpbXBvcnQgZG9tIGZyb20gXCIuL2RvbVwiO1xuaW1wb3J0IHNoaXAgZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IGdhbWVCb2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcbmltcG9ydCBwbGF5ZXIgZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQgZ2FtZSBmcm9tIFwiLi9nYW1lXCI7XG5cbmRvbS5jcmVhdGVHYW1lQm9hcmRzKCk7XG4iXSwibmFtZXMiOlsibGVuZ3RoIiwibmFtZSIsImhpdHMiLCJzdW5rIiwiaGl0IiwiZ2V0SGl0cyIsImlzU3VuayIsInNoaXBOYW1lIiwiYm9hcmQiLCJtaXNzZWRBdHRhY2siLCJhdHRhY2tlZFBvc2l0aW9uIiwic2hpcFBvc2l0aW9uIiwic2hpcHMiLCJpbmRleEZpbmRlciIsInBvczEiLCJwb3MyIiwiY3JlYXRlQm9hcmQiLCJpIiwiaiIsIm5ld0Nvb3JkaW5hdGVzIiwiY29vcmRpbmF0ZXMiLCJjcmVhdGVDb29yZGluYXRlIiwicHVzaCIsImdldEJvYXJkIiwicGxhY2VTaGlwIiwic2hpcCIsImRpcmVjdGlvbiIsImluZGV4IiwicmVjZWl2ZUF0dGFjayIsImZpbmRTaGlwIiwiaXNBbGxTdW5rIiwiZ2V0TWlzc2VkUG9zaXRpb25zIiwiZ2V0QXR0YWNrZWRQb3NpdGlvbnMiLCJnZXRTaGlwc1Bvc2l0aW9ucyIsInNob3RDb29yZGluYXRlcyIsInJhbmRvbUF0dGFjayIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImdldFNoaXBzIiwiZ2V0U2hvdENvb3JkaW5hdGVzIiwiZ2FtZXIiLCJjb21wdXRlciIsImdhbWVyQm9hcmQiLCJjb21wdXRlckJvYXJkIiwiZ2FtZXJTaGlwcyIsImNvbXB1dGVyU2hpcHMiLCJnZXRHYW1lckJvYXJkIiwiZ2V0Q29tcHV0ZXJCb2FyZCIsImdldEdhbWVyU2hpcHMiLCJnZXRDb21wdXRlclNoaXBzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicGxheWVyQm9hcmREaXYiLCJjb21wdXRlckJvYXJkRGl2IiwiZGlyZWN0aW9uQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdyaWQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInNwbGl0IiwicGFyc2VJbnQiLCJ2YWx1ZSIsInRleHRDb250ZW50IiwiaGlkZURpc3BsYXkiLCJlbGVtZW50IiwicmVtb3ZlIiwiYWRkIiwic2hvd0Rpc3BsYXkiLCJjcmVhdGVHYW1lQm9hcmRzIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIl0sInNvdXJjZVJvb3QiOiIifQ==