(()=>{"use strict";const e=function(e,t){let r=0,n=!1;return{hit:function(){return r+=1,r},getHits:function(){return r},isSunk:function(){return r==e&&(n=!0),n},length:e,shipName:t}},t=function(){let t=function(){let e=[],t=[],r=[],n=[],o=[];function i(e,t){return 10*e+t}return{createBoard:function(){for(let t=0;t<10;t++)for(let r=0;r<10;r++){let n={coordinates:void 0,name:void 0};n.coordinates=[t,r],n.name=null,e.push(n)}return e},getBoard:function(){return e},placeShip:function(t,r,a,s){if("Horizontal"==s){if(t+a.length>9)return!1;let o=i(t,r);for(let t=0;t<a.length;t++)e[o+t].name=a.shipName,n.push(o+t)}if("Vertical"==s){if(r+a.length>9)return!1;let o=i(t,r);for(let t=0;t<a.length;t++)e[o+10*t].name=a.shipName,n.push(o+10*t)}o.push(a)},receiveAttack:function(n,a){let s=i(n,a);return null!=e[s].name?(r.push(s),function(e){for(let t=0;t<o.length;t++)if(o[t].shipName==e)return o[t]}(e[s].name).hit()):t.push(s),s},isAllSunk:function(){if(n.length==r.length)return!0},getMissedPositions:function(){return t},getAttackedPositions:function(){return r},getShipsPositions:function(){return n}}}(),r=[e(5,"Carrier"),e(4,"Battleship"),e(3,"Cruiser"),e(3,"Submarine"),e(2,"Destroyer")],n=[];return{randomAttack:function(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]},getBoard:function(){return t},getShips:function(){return r},getShotCoordinates:function(){return n},createBoard:t.createBoard,getBoard:t.getBoard,placeShip:t.placeShip,receiveAttack:t.receiveAttack,isAllSunk:t.isAllSunk,getMissedPositions:t.getMissedPositions,getAttackedPositions:t.getAttackedPositions,getShipsPositions:t.getShipsPositions}},r=function(){let e=t(),r=t();e.createBoard(),r.createBoard();let n=e.getBoard(),o=r.getBoard();return{gamer:e,computer:r,getGamerBoard:function(){return n},getComputerBoard:function(){return o}}}();(function(){document.querySelector(".carrier-name"),document.querySelector(".battleship-name"),document.querySelector(".cruiser-name"),document.querySelector(".submarine-name"),document.querySelector(".destroyer-name");const e=document.querySelector(".player-board"),t=document.querySelector(".computer-board");let n=r.getGamerBoard(),o=r.getComputerBoard();return e.addEventListener("click",(e=>{if(e.target.classList.contains("player-board")){let t=e.target.classList[1].split(",");parseInt(t[0]),parseInt(t[1])}})),{hideDisplay:function(e){e.classList.remove("show"),e.classList.add("hide")},showDisplay:function(e){e.classList.remove("hide"),e.classList.add("show")},createGameBoards:function(){for(let t=0;t<n.length;t++){let r=document.createElement("div");r.classList.add(t),r.classList.add(n[t].coordinates),r.classList.add("grid"),r.classList.add("player-board"),e.appendChild(r)}for(let e=0;e<o.length;e++){let r=document.createElement("div");r.classList.add(e),r.classList.add(o[e].coordinates),r.classList.add("grid"),r.classList.add("computer-board"),t.appendChild(r)}}}})().createGameBoards()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLFFBQ3pCRCxFQUFRTCxVQUFVTyxJQUFJLE9BQ3hCLEVBdUNFQyxZQXJDRixTQUFxQkgsR0FDbkJBLEVBQVFMLFVBQVVNLE9BQU8sUUFDekJELEVBQVFMLFVBQVVPLElBQUksT0FDeEIsRUFtQ0VFLGlCQWpDRixXQUNFLElBQUssSUFBSTlDLEVBQUksRUFBR0EsRUFBSTBCLEVBQVczQyxPQUFRaUIsSUFBSyxDQUMxQyxJQUFJbUMsRUFBT0wsU0FBU2lCLGNBQWMsT0FDbENaLEVBQUtFLFVBQVVPLElBQUk1QyxHQUNuQm1DLEVBQUtFLFVBQVVPLElBQUlsQixFQUFXMUIsR0FBR0csYUFDakNnQyxFQUFLRSxVQUFVTyxJQUFJLFFBQ25CVCxFQUFLRSxVQUFVTyxJQUFJLGdCQUNuQlosRUFBZWdCLFlBQVliLEVBQzdCLENBQ0EsSUFBSyxJQUFJbkMsRUFBSSxFQUFHQSxFQUFJMkIsRUFBYzVDLE9BQVFpQixJQUFLLENBQzdDLElBQUltQyxFQUFPTCxTQUFTaUIsY0FBYyxPQUNsQ1osRUFBS0UsVUFBVU8sSUFBSTVDLEdBQ25CbUMsRUFBS0UsVUFBVU8sSUFBSWpCLEVBQWMzQixHQUFHRyxhQUNwQ2dDLEVBQUtFLFVBQVVPLElBQUksUUFDbkJULEVBQUtFLFVBQVVPLElBQUksa0JBQ25CWCxFQUFpQmUsWUFBWWIsRUFDL0IsQ0FDRixFQWtCRCxFQXpEVyxHQ0NSVyxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9kb20uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzaGlwID0gZnVuY3Rpb24gKGxlbmd0aCwgbmFtZSkge1xuICBsZXQgaGl0cyA9IDA7XG4gIGxldCBzdW5rID0gZmFsc2U7XG4gIGxldCBzaGlwTmFtZSA9IG5hbWU7XG5cbiAgZnVuY3Rpb24gaGl0KCkge1xuICAgIGhpdHMgKz0gMTtcbiAgICByZXR1cm4gaGl0cztcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3VuaygpIHtcbiAgICBpZiAoaGl0cyA9PSBsZW5ndGgpIHtcbiAgICAgIHN1bmsgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gc3VuaztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEhpdHMoKSB7XG4gICAgcmV0dXJuIGhpdHM7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGhpdCxcbiAgICBnZXRIaXRzLFxuICAgIGlzU3VuayxcbiAgICBsZW5ndGgsXG4gICAgc2hpcE5hbWUsXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBzaGlwO1xuIiwiaW1wb3J0IHNoaXAgZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IGdhbWVCb2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcblxuY29uc3QgcGxheWVyID0gZnVuY3Rpb24gKCkge1xuICBsZXQgYm9hcmQgPSBnYW1lQm9hcmQoKTtcbiAgbGV0IGNhcnJpZXIgPSBzaGlwKDUsIFwiQ2FycmllclwiKTtcbiAgbGV0IGJhdHRsZXNoaXAgPSBzaGlwKDQsIFwiQmF0dGxlc2hpcFwiKTtcbiAgbGV0IGNydWlzZXIgPSBzaGlwKDMsIFwiQ3J1aXNlclwiKTtcbiAgbGV0IHN1Ym1hcmluZSA9IHNoaXAoMywgXCJTdWJtYXJpbmVcIik7XG4gIGxldCBkZXN0cm95ZXIgPSBzaGlwKDIsIFwiRGVzdHJveWVyXCIpO1xuICBsZXQgc2hpcHMgPSBbY2FycmllciwgYmF0dGxlc2hpcCwgY3J1aXNlciwgc3VibWFyaW5lLCBkZXN0cm95ZXJdO1xuICBsZXQgc2hvdENvb3JkaW5hdGVzID0gW107XG5cbiAgZnVuY3Rpb24gcmFuZG9tQXR0YWNrKCkge1xuICAgIGxldCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgIGxldCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuXG4gICAgcmV0dXJuIFt4LCB5XTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJvYXJkKCkge1xuICAgIHJldHVybiBib2FyZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNoaXBzKCkge1xuICAgIHJldHVybiBzaGlwcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNob3RDb29yZGluYXRlcygpIHtcbiAgICByZXR1cm4gc2hvdENvb3JkaW5hdGVzO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByYW5kb21BdHRhY2ssXG4gICAgZ2V0Qm9hcmQsXG4gICAgZ2V0U2hpcHMsXG4gICAgZ2V0U2hvdENvb3JkaW5hdGVzLFxuICAgIGNyZWF0ZUJvYXJkOiBib2FyZC5jcmVhdGVCb2FyZCxcbiAgICBnZXRCb2FyZDogYm9hcmQuZ2V0Qm9hcmQsXG4gICAgcGxhY2VTaGlwOiBib2FyZC5wbGFjZVNoaXAsXG4gICAgcmVjZWl2ZUF0dGFjazogYm9hcmQucmVjZWl2ZUF0dGFjayxcbiAgICBpc0FsbFN1bms6IGJvYXJkLmlzQWxsU3VuayxcbiAgICBnZXRNaXNzZWRQb3NpdGlvbnM6IGJvYXJkLmdldE1pc3NlZFBvc2l0aW9ucyxcbiAgICBnZXRBdHRhY2tlZFBvc2l0aW9uczogYm9hcmQuZ2V0QXR0YWNrZWRQb3NpdGlvbnMsXG4gICAgZ2V0U2hpcHNQb3NpdGlvbnM6IGJvYXJkLmdldFNoaXBzUG9zaXRpb25zLFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcGxheWVyO1xuIiwiaW1wb3J0IHNoaXAgZnJvbSBcIi4vc2hpcFwiO1xuY29uc3QgZ2FtZUJvYXJkID0gZnVuY3Rpb24gKCkge1xuICBsZXQgYm9hcmQgPSBbXTtcbiAgbGV0IG1pc3NlZEF0dGFjayA9IFtdO1xuICBsZXQgYXR0YWNrZWRQb3NpdGlvbiA9IFtdO1xuICBsZXQgc2hpcFBvc2l0aW9uID0gW107XG4gIGxldCBzaGlwcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNvb3JkaW5hdGUoY29vcmRpbmF0ZXMsIG5hbWUpIHtcbiAgICByZXR1cm4geyBjb29yZGluYXRlcywgbmFtZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaW5kZXhGaW5kZXIocG9zMSwgcG9zMikge1xuICAgIGxldCBpbmRleCA9IHBvczEgKiAxMCArIHBvczI7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQm9hcmQoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAgICAgbGV0IG5ld0Nvb3JkaW5hdGVzID0gY3JlYXRlQ29vcmRpbmF0ZSgpO1xuICAgICAgICBuZXdDb29yZGluYXRlcy5jb29yZGluYXRlcyA9IFtpLCBqXTtcbiAgICAgICAgbmV3Q29vcmRpbmF0ZXMubmFtZSA9IG51bGw7XG4gICAgICAgIGJvYXJkLnB1c2gobmV3Q29vcmRpbmF0ZXMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYm9hcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBwbGFjZVNoaXAocG9zMSwgcG9zMiwgc2hpcCwgZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBcIkhvcml6b250YWxcIikge1xuICAgICAgaWYgKHBvczEgKyBzaGlwLmxlbmd0aCA+IDkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBsZXQgaW5kZXggPSBpbmRleEZpbmRlcihwb3MxLCBwb3MyKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJvYXJkW2luZGV4ICsgaV0ubmFtZSA9IHNoaXAuc2hpcE5hbWU7XG4gICAgICAgIHNoaXBQb3NpdGlvbi5wdXNoKGluZGV4ICsgaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRpcmVjdGlvbiA9PSBcIlZlcnRpY2FsXCIpIHtcbiAgICAgIGlmIChwb3MyICsgc2hpcC5sZW5ndGggPiA5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgbGV0IGluZGV4ID0gaW5kZXhGaW5kZXIocG9zMSwgcG9zMik7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBib2FyZFtpbmRleCArIGkgKiAxMF0ubmFtZSA9IHNoaXAuc2hpcE5hbWU7XG4gICAgICAgIHNoaXBQb3NpdGlvbi5wdXNoKGluZGV4ICsgaSAqIDEwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2hpcHMucHVzaChzaGlwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY2VpdmVBdHRhY2socG9zMSwgcG9zMikge1xuICAgIGxldCBpbmRleCA9IGluZGV4RmluZGVyKHBvczEsIHBvczIpO1xuXG4gICAgaWYgKGJvYXJkW2luZGV4XS5uYW1lICE9IG51bGwpIHtcbiAgICAgIGF0dGFja2VkUG9zaXRpb24ucHVzaChpbmRleCk7XG4gICAgICBmaW5kU2hpcChib2FyZFtpbmRleF0ubmFtZSkuaGl0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pc3NlZEF0dGFjay5wdXNoKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZFNoaXAobmFtZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzaGlwc1tpXS5zaGlwTmFtZSA9PSBuYW1lKSB7XG4gICAgICAgIHJldHVybiBzaGlwc1tpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0FsbFN1bmsoKSB7XG4gICAgaWYgKHNoaXBQb3NpdGlvbi5sZW5ndGggPT0gYXR0YWNrZWRQb3NpdGlvbi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJvYXJkKCkge1xuICAgIHJldHVybiBib2FyZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1pc3NlZFBvc2l0aW9ucygpIHtcbiAgICByZXR1cm4gbWlzc2VkQXR0YWNrO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2hpcHNQb3NpdGlvbnMoKSB7XG4gICAgcmV0dXJuIHNoaXBQb3NpdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEF0dGFja2VkUG9zaXRpb25zKCkge1xuICAgIHJldHVybiBhdHRhY2tlZFBvc2l0aW9uO1xuICB9XG4gIHJldHVybiB7XG4gICAgY3JlYXRlQm9hcmQsXG4gICAgZ2V0Qm9hcmQsXG4gICAgcGxhY2VTaGlwLFxuICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgaXNBbGxTdW5rLFxuICAgIGdldE1pc3NlZFBvc2l0aW9ucyxcbiAgICBnZXRBdHRhY2tlZFBvc2l0aW9ucyxcbiAgICBnZXRTaGlwc1Bvc2l0aW9ucyxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdhbWVCb2FyZDtcbiIsImltcG9ydCBzaGlwIGZyb20gXCIuL3NoaXBcIjtcbmltcG9ydCBnYW1lQm9hcmQgZnJvbSBcIi4vZ2FtZWJvYXJkXCI7XG5pbXBvcnQgcGxheWVyIGZyb20gXCIuL3BsYXllclwiO1xuXG5jb25zdCBnYW1lID0gKGZ1bmN0aW9uICgpIHtcbiAgbGV0IGdhbWVyID0gcGxheWVyKCk7XG4gIGxldCBjb21wdXRlciA9IHBsYXllcigpO1xuXG4gIGdhbWVyLmNyZWF0ZUJvYXJkKCk7XG4gIGNvbXB1dGVyLmNyZWF0ZUJvYXJkKCk7XG5cbiAgbGV0IGdhbWVyQm9hcmQgPSBnYW1lci5nZXRCb2FyZCgpO1xuICBsZXQgY29tcHV0ZXJCb2FyZCA9IGNvbXB1dGVyLmdldEJvYXJkKCk7XG5cbiAgZnVuY3Rpb24gZ2V0R2FtZXJCb2FyZCgpIHtcbiAgICByZXR1cm4gZ2FtZXJCb2FyZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENvbXB1dGVyQm9hcmQoKSB7XG4gICAgcmV0dXJuIGNvbXB1dGVyQm9hcmQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdhbWVyLFxuICAgIGNvbXB1dGVyLFxuICAgIGdldEdhbWVyQm9hcmQsXG4gICAgZ2V0Q29tcHV0ZXJCb2FyZCxcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGdhbWU7XG4iLCJpbXBvcnQgc2hpcCBmcm9tIFwiLi9zaGlwXCI7XG5pbXBvcnQgZ2FtZUJvYXJkIGZyb20gXCIuL2dhbWVib2FyZFwiO1xuaW1wb3J0IHBsYXllciBmcm9tIFwiLi9wbGF5ZXJcIjtcbmltcG9ydCBnYW1lIGZyb20gXCIuL2dhbWVcIjtcblxuY29uc3QgZG9tID0gKGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgY2FycmllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2Fycmllci1uYW1lXCIpO1xuICBjb25zdCBiYXR0bGVzaGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iYXR0bGVzaGlwLW5hbWVcIik7XG4gIGNvbnN0IGNydWlzZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNydWlzZXItbmFtZVwiKTtcbiAgY29uc3Qgc3VibWFyaW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtYXJpbmUtbmFtZVwiKTtcbiAgY29uc3QgZGVzdHJveWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZXN0cm95ZXItbmFtZVwiKTtcbiAgY29uc3QgcGxheWVyQm9hcmREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllci1ib2FyZFwiKTtcbiAgY29uc3QgY29tcHV0ZXJCb2FyZERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcHV0ZXItYm9hcmRcIik7XG5cbiAgbGV0IGdhbWVyQm9hcmQgPSBnYW1lLmdldEdhbWVyQm9hcmQoKTtcbiAgbGV0IGNvbXB1dGVyQm9hcmQgPSBnYW1lLmdldENvbXB1dGVyQm9hcmQoKTtcblxuICBmdW5jdGlvbiBoaWRlRGlzcGxheShlbGVtZW50KSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Rpc3BsYXkoZWxlbWVudCkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUdhbWVCb2FyZHMoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lckJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZ3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBncmlkLmNsYXNzTGlzdC5hZGQoaSk7XG4gICAgICBncmlkLmNsYXNzTGlzdC5hZGQoZ2FtZXJCb2FyZFtpXS5jb29yZGluYXRlcyk7XG4gICAgICBncmlkLmNsYXNzTGlzdC5hZGQoXCJncmlkXCIpO1xuICAgICAgZ3JpZC5jbGFzc0xpc3QuYWRkKFwicGxheWVyLWJvYXJkXCIpO1xuICAgICAgcGxheWVyQm9hcmREaXYuYXBwZW5kQ2hpbGQoZ3JpZCk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcHV0ZXJCb2FyZC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZ3JpZC5jbGFzc0xpc3QuYWRkKGkpO1xuICAgICAgZ3JpZC5jbGFzc0xpc3QuYWRkKGNvbXB1dGVyQm9hcmRbaV0uY29vcmRpbmF0ZXMpO1xuICAgICAgZ3JpZC5jbGFzc0xpc3QuYWRkKFwiZ3JpZFwiKTtcbiAgICAgIGdyaWQuY2xhc3NMaXN0LmFkZChcImNvbXB1dGVyLWJvYXJkXCIpO1xuICAgICAgY29tcHV0ZXJCb2FyZERpdi5hcHBlbmRDaGlsZChncmlkKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhc3NpZ25TaGlwcyhwb3MxLCBwb3MyKSB7fVxuXG4gIHBsYXllckJvYXJkRGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZ3JpZCkgPT4ge1xuICAgIGlmIChncmlkLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwbGF5ZXItYm9hcmRcIikpIHtcbiAgICAgIGxldCBjb29yZGluYXRlcyA9IGdyaWQudGFyZ2V0LmNsYXNzTGlzdFsxXS5zcGxpdChcIixcIik7XG4gICAgICBsZXQgcG9zMSA9IHBhcnNlSW50KGNvb3JkaW5hdGVzWzBdKTtcbiAgICAgIGxldCBwb3MyID0gcGFyc2VJbnQoY29vcmRpbmF0ZXNbMV0pO1xuICAgICAgYXNzaWduU2hpcHMocG9zMSwgcG9zMik7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGhpZGVEaXNwbGF5LFxuICAgIHNob3dEaXNwbGF5LFxuICAgIGNyZWF0ZUdhbWVCb2FyZHMsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBkb207XG4iLCJpbXBvcnQgZG9tIGZyb20gXCIuL2RvbVwiO1xuaW1wb3J0IHNoaXAgZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IGdhbWVCb2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcbmltcG9ydCBwbGF5ZXIgZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQgZ2FtZSBmcm9tIFwiLi9nYW1lXCI7XG5cbmRvbS5jcmVhdGVHYW1lQm9hcmRzKCk7XG4iXSwibmFtZXMiOlsibGVuZ3RoIiwibmFtZSIsImhpdHMiLCJzdW5rIiwiaGl0IiwiZ2V0SGl0cyIsImlzU3VuayIsInNoaXBOYW1lIiwiYm9hcmQiLCJtaXNzZWRBdHRhY2siLCJhdHRhY2tlZFBvc2l0aW9uIiwic2hpcFBvc2l0aW9uIiwic2hpcHMiLCJpbmRleEZpbmRlciIsInBvczEiLCJwb3MyIiwiY3JlYXRlQm9hcmQiLCJpIiwiaiIsIm5ld0Nvb3JkaW5hdGVzIiwiY29vcmRpbmF0ZXMiLCJjcmVhdGVDb29yZGluYXRlIiwicHVzaCIsImdldEJvYXJkIiwicGxhY2VTaGlwIiwic2hpcCIsImRpcmVjdGlvbiIsImluZGV4IiwicmVjZWl2ZUF0dGFjayIsImZpbmRTaGlwIiwiaXNBbGxTdW5rIiwiZ2V0TWlzc2VkUG9zaXRpb25zIiwiZ2V0QXR0YWNrZWRQb3NpdGlvbnMiLCJnZXRTaGlwc1Bvc2l0aW9ucyIsInNob3RDb29yZGluYXRlcyIsInJhbmRvbUF0dGFjayIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImdldFNoaXBzIiwiZ2V0U2hvdENvb3JkaW5hdGVzIiwiZ2FtZXIiLCJjb21wdXRlciIsImdhbWVyQm9hcmQiLCJjb21wdXRlckJvYXJkIiwiZ2V0R2FtZXJCb2FyZCIsImdldENvbXB1dGVyQm9hcmQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwbGF5ZXJCb2FyZERpdiIsImNvbXB1dGVyQm9hcmREaXYiLCJhZGRFdmVudExpc3RlbmVyIiwiZ3JpZCIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwic3BsaXQiLCJwYXJzZUludCIsImhpZGVEaXNwbGF5IiwiZWxlbWVudCIsInJlbW92ZSIsImFkZCIsInNob3dEaXNwbGF5IiwiY3JlYXRlR2FtZUJvYXJkcyIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCJdLCJzb3VyY2VSb290IjoiIn0=